# mode rewrite
<IfModule mod_rewrite.c>
	Options +FollowSymlinks
	RewriteEngine On
	RewriteBase /

	# block access to files or directories that start with . or underscore
	RewriteRule "(^|/)[_\.]" - [F,L]

	# aliases
	RewriteCond %{HTTP_HOST} ^(www\.)?evidence2programs\.com [NC]
	RewriteRule ^(.*)$ http://www.evidencetoprograms.com/$1 [R,L]

	# add "dub dub dub"
	RewriteCond %{HTTP_HOST} !\.wliondev [NC]
	RewriteCond %{HTTP_HOST} !staging\. [NC]
	RewriteCond %{HTTP_HOST} !^www\.
	RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [L,R=301]
</IfModule>

# "-Indexes" will have Apache block users from browsing folders without a default document
# Usually you should leave this activated, because you shouldn't allow everybody to surf through
# every folder on your server (which includes rather private places like CMS system folders).
<IfModule mod_autoindex.c>
	Options -Indexes
</IfModule>


# Block access to backup and source files
# This files may be left by some text/html editors and
# pose a great security danger, when someone can access them
<FilesMatch "(\.(bak|config|sql|fla|psd|ini|log|sh|inc|swp|dist)|~)$">
	Order allow,deny
	Deny from all
	Satisfy All
</FilesMatch>

# ----------------------------------------------------------------------
# PHP options
# ----------------------------------------------------------------------

# tweak upload max
php_value post_max_size 100M
php_value upload_max_filesize 20M

# Increase cookie security
<IfModule php5_module>
  php_value session.cookie_httponly true
</IfModule>
